import{x as S,A as h,ae as v}from"./el-message-2553baf5.js";import{r as t}from"./index-d0deb4f3.js";function D(){const e=t(!1),a=t(!1),r=t(1),o=t(30),c=S();return{fetchData:async(u,n)=>{if(a.value)return;e.value=!0;const f=await u(n);e.value=!1;const{data:l,success:d,msg:p}=f;if(!d){h.error(p),a.value=!0;return}a.value=l.list.length<o.value;const g=c.favoriteList.concat(...l.list.map(s=>({...s,videoPath:s.path?s.path.replace("./download/",v):"",cover:s.cover?s.cover.replace("./download/",v):""})));c.UPDATE_FAVORITE_LIST(g),r.value+=1},finished:a,loading:e,page:r,pageSize:o}}function E(){const e=t(!1);return{fetch:async(r,o,c=()=>{},i=()=>{})=>{e.value=!0;const u=await r(o);e.value=!1;const{data:n,success:f,msg:l}=u;return f?(c(n),n):(h.error(l),i(),!1)},loading:e}}export{D as a,E as u};
