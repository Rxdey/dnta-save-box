import{x as S,A as h,ar as v}from"./el-message-89336ba7.js";import{r as t}from"./index-9b350966.js";function D(){const e=t(!1),a=t(!1),r=t(1),o=t(30),c=S();return{fetchData:async(f,n)=>{if(a.value)return;e.value=!0;const l=await f(n);e.value=!1;const{data:u,success:d,msg:p}=l;if(!d){h.error(p),a.value=!0;return}a.value=u.list.length<o.value;const g=c.favoriteList.concat(...u.list.map(s=>({...s,videoPath:s.path?s.path.replace("./download/",v):"",cover:s.cover?s.cover.replace("./download/",v):""})));c.UPDATE_FAVORITE_LIST(g),r.value+=1},finished:a,loading:e,page:r,pageSize:o}}function E(){const e=t(!1);return{fetch:async(r,o,c=()=>{},i=()=>{})=>{e.value=!0;const f=await r(o);e.value=!1;const{data:n,success:l,msg:u}=f;return l?(c(n),n||l):(h.error(u),i(),!1)},loading:e}}export{D as a,E as u};
