import{x as m,z as h}from"./el-message-c7bdfc5d.js";import{B as v}from"./api-fc36d407.js";import{r as s}from"./index-606b5d21.js";function A(){const e=s(!1),a=s(!1),r=s(1),o=s(30),c=m();return{fetchData:async(f,n)=>{if(a.value)return;e.value=!0;const l=await f(n);e.value=!1;const{data:u,success:p,msg:d}=l;if(!p){h.error(d),a.value=!0;return}a.value=u.list.length<o.value;const g=c.favoriteList.concat(...u.list.map(t=>({...t,videoPath:t.path?t.path.replace("./download/",v):"",cover:t.cover?t.cover.replace("./download/",v):""})));c.UPDATE_FAVORITE_LIST(g),r.value+=1},finished:a,loading:e,page:r,pageSize:o}}function D(){const e=s(!1);return{fetch:async(r,o,c=()=>{},i=()=>{})=>{e.value=!0;const f=await r(o);e.value=!1;const{data:n,success:l,msg:u}=f;return l?(c(n),n||l):(h.error(u),i(),!1)},loading:e}}export{A as a,D as u};
